# 10장 클래스

# 클래스 체계

클래스 정의 표준 자바 관례

- 변수 목록
    - 정적 공개 상수
    - 정적 비공개 변수
    - 비공개 인스턴스
    - 공개 변수 → 필요한 경우 거의 없음!
- 공개 함수
- 비공개 함수(자신을 호출하는 공개 함수 직후)

→ 추상화 단계가 순차적으로 내려감

## 캡슐화

캡슐화를 풀어주는 결정은 언제나 최후의 수단

→ protected로 선언하거나 피키지 전체를 공개 하기 전 비공개 상태 유지할 방법 강구!

# 클래스는 작아야 한다!

클래스 만들 떄 첫 번째 규칙 ⇒ 크기

크기 측정 방법

- 함수 : 물리적인 행 수
- 클래스 : 맡은 책임

클래스 이름은 해당 클래스 책임을 기술해야 한다.

→ `Processor`, `Manager`, `Super`등 모호한 단어 존재 시 클래스에다 여러 책임 떠안겼다는 증거

클래스 설명

→ `if`, `and`, `or`, `but`을 사용하지 않고서 25단어 내외로 가능!

## 단일 책임 원칙(SRP)

클래스나 모듈을 변경할 이유가 하나뿐이어야 한다는 원칙

→ 클래스는 책임, 즉 변경할 이유가 하나여야 한다는 의미

책임, 즉 변경할 이유를 파악하려 애쓰다 보면 코드를 추상화하기 쉬워짐

큰 클래스 몇 개가 아닌 작은 클래스 여럿으로 이뤄진 시스템 바람직!!

→ 작은 클래스는 각자 맡은 책임이 하나, 변경할 이유 하나 ⇒ 다른 작은 클래스와 협력해 동작 수행

## 응집도

- 클래스 인스턴스 변수 : 변수 수가 작아야 함
- 클래스 메서드 : 클래스 인스턴스 변수 하나 이상 사용해야 함

클래스와 메서드의 응집도가 더 높다,

→ 메서드가 변수를 더 많이 사용

→ 클래스에 속한 메서드와 변수가 서로 의존하며 논리적인 단위로 묶임을 의미

응집도가 높아지게 되면 새로운 클래스로 쪼개야 한다는 신호!

## 응집도를 유지하면 작은 클래스 여럿이 나온다

클래스가 응집력을 잃는다면 쪼개라!

→ 큰 함수를 작은 함수 여럿으로 쪼개다 보면 작은 클래스 여럿으로 쪼갤 기회 생기게 됨!

# 변경하기 쉬운 클래스

대다수 시스템 → 지속적인 변경 존재

변경하기 쉬운 이상적인 시스템 

- 기존 코드 변경시 건드릴 코드 최소인 시스템 구조
- 새 기능 추가 시 기존 코드 변경 없이 시스템 확장 개념인 시스템 구조

## 변경으로부터 격리

- 구체적인 클래스 : 상세한 구현(코드) 포함
- 추상 클래스 : 개념만 포함

→ 상세한 구현에 의존하는 클라이언트 클래스 구현 변경시 위험

인터페이스와 추상 클래스 사용해 구현이 미치는 영향 격리 

결합도를 최소로 줄이기

→ 각 시스템 요소가 다른 요소로부터 그리고 변경으로부터 잘 격리되어 있다는 의미

→ 테스트가 가능할 정도로 시스템의 결합도 낮추면 유연성과 재사용성 높아짐

→ 자연스럽게 DIP를 따르는 클래스 나오고 DIP는 클래스가 상세한 구현이 아닌 추상화에 의존해야 한다는 원칙